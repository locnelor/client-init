# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type SysMenuEntity {
  id: Int!
  createAt: DateTime!
  updateAt: DateTime!
  name: String!
  path: String!
  role: Int!
  comment: String!
  parentId: Int
  parent: SysMenuEntity
  children: [SysMenuEntity!]
  sys_menu_on_role: [SysMenuOnRoleEntity!]
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

type SysMenuOnRoleEntity {
  power: Int!
  sys_roleId: Int!
  sys_menuId: Int!
  role: SysRoleEntity
  menu: SysMenuEntity
}

type SysRoleEntity {
  id: Int!
  createAt: DateTime!
  updateAt: DateTime!
  name: String!
  status: Boolean!
  comment: String
  sys_menu_on_role: [SysMenuOnRoleEntity!]
  sys_user: [SysUserEntity!]
}

type SysUserEntity {
  id: Int!
  createAt: DateTime!
  updateAt: DateTime!
  name: String!
  account: String!
  sys_roleId: Int!
  loginId: String
  role: SysRoleEntity
}

type UserPagination {
  total: Int!
  page: Int!
  size: Int!
  data: [SysUserEntity!]!
}

type Query {
  viewer: SysUserEntity!
  isAdmin: Boolean!
  getMenu: [SysMenuEntity!]!
  getRole: [SysRoleEntity!]!
  findUsers(page: Int!, size: Int!): UserPagination!
}

type Mutation {
  initAdmin(account: String!, password: String!, name: String!): Boolean!
  auth(account: String!, password: String!): String!
  createRole(name: String!, status: Boolean! = true, sort: Int, comment: String, id: Int): SysRoleEntity!
  updateRole(id: Int!, name: String, status: Boolean, sort: Int, comment: String): SysRoleEntity!
  createRoleMenu(sys_roleId: Int!, sys_menuId: Int!, power: Int!): SysMenuOnRoleEntity!
  updateRoleMenu(sys_roleId: Int!, sys_menuId: Int!, power: Int!): SysMenuOnRoleEntity!
  deleteRoleMenu(sys_roleId: Int!, sys_menuId: Int!): Boolean!
  deleteRole(id: Int!): Boolean!
  createUser: SysUserEntity!
  updateUser: SysUserEntity!
  deleteUser: SysUserEntity!
}